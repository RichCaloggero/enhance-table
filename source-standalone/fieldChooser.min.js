function createFieldChooser(e,t){let i;i="string"==typeof e||e instanceof String?e.split(",").map(e=>e.trim()):e;let n=$('\n<div class="fieldChooser" role="dialog" aria-labelledby="fieldChooser-title" aria-describedby="fieldChooser-instructions">\n<div class="head">\n<h2 id="fieldChooser-title">Field Chooser</h2>\n<button class="cancel">Cancel</button>\n</div>\n\n<div class="body">\n<div id="fieldChooser-instructions">\nTo add a field to the active list, click it\'s name in the available fields list.\nTo remove it from the active list, click it\'s name again in the availabel list.\n</p><p>\nTo change order of fields:\n</p><ol><li>\nclick the field name you want to reposition in the active list\n</li><li>\nclick another active field to move it <em>before</em> that one\n</li></ol>\n</div>\n\n<div class="available" role="region" aria-label="Available Fields">\n<button class="reset">Reset</button>\n<ul class="fields list"></ul>\n</div>\n\n<div class="active" role="region" aria-label="Active Fields">\n<ul class="fields list"></ul>\n</div>\n\n<button class="apply">Apply</button>\n</div>\x3c!-- .body --\x3e\n</div>\x3c!-- .fieldChooser --\x3e\n');n.appendTo(document.querySelector("body"));let a=$(".available",n),l=$(".active",n),r=$(".cancel",n),s=$(".reset",n),o=$(".apply",n);var c,d;function u(){$(".list",l).empty().append(b(v(p().has("[aria-pressed='true']")),"<button></button>"))}function p(){return f(a)}function f(e){return e.find(".list li")}function v(e){return e.map((e,t)=>$(t).text()).get()}function h(){p().each(function(){var e;e=$(this),$("[aria-pressed]",e).attr("aria-pressed","true"),u()})}function b(e,t,i){return e.map(e=>$(`<li>${e}</li>`).wrapInner(t))}$(".list",a).append(b(i,'<button aria-pressed="false"></button>')),h(),r.focus(),s.on("click",()=>{h()}),r.on("click",function(){t(v(p())),n.remove()}),o.on("click",()=>{let e=v(f(l));e?(t(e),n.remove()):alert("Please activate at least one field, or cancel this operation.")}),a.on("click",e=>((function(e){(function(e){e.attr("aria-pressed","true"===e.attr("aria-pressed")?"false":"true")})(e),e.is("[aria-pressed='true']")?e.css("box-shadow","inset 5em 1em gold"):e.css("box-shadow","unset");u()})($(e.target)),!1)),l.on("click",e=>{let t=$(".list [aria-pressed='true']",l);return void(0===t.length?$(e.target).attr("aria-pressed","true"):1===t.length&&(c=t,d=$(e.target),c.insertBefore(d),t.removeAttr("aria-pressed")))}),n.on("keyup",e=>{switch(e.key){case"Escape":return r.trigger("click");case"Enter":return o.trigger("click")}return!0})}